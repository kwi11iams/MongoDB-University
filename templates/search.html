{% extends 'base.html' %}
{% block content %}

<body>
    <h1>VariantsDB search page</h1>
    <form method="POST">
        <p>
            <p>Search by variant type:
            <select name="variant_consequence_search">
                <option value="NULL">-- select option --</option>
                {% for v in var_classes %}
                    <option value="{{v}}">{{v}}</option>
                {% endfor %}
            </select>
            </p>
        </p>
        <p>
            <p>Search by chromosome:
            <select name="chromosome_search">
              <option value="NULL">-- select option --</option>
                {% for c in chr_options %}
                    <option value="{{c}}">{{c}}</option>
                {% endfor %}
            </select>
            </p>
            <!-- <input type="number" name="chromosome_search"></input> -->
        </p>
        <p>
            <p>Search by rsID:<input name="rsID"></input>
            </p>
        </p>
        <p>Search by position:<br>
           Start<input type="number" name="start_search"></input>&nbsp;&nbsp;&nbsp;&nbsp;End
           <input type="number" name="end_search"></input>
        </p>
        <p>
            <button type="submit">Submit</button>
        </p>

    </form>
    <hr>
    <table id="data" class="table table-striped">
        <thead>
          <tr>
            <th>Name</th>
            <th>HGVS</th>
            <th>Variant Type</th>
            <th>Assembly</th>
            <th>Chromosome</th>
            <th>Start</th>
            <th>End</th>
            <th>Action</th>
          </tr>
        </thead>
        {% if r %}
        {% for variant in r %}
        <tbody>
            <tr>
              <td>{{ variant.name }}</td>
              <td>{{ variant.synonyms[0] }}</td>
              <td>{{ variant.var_class }}</td>
              <td>{{ variant.mappings[0].assembly_name }}</td>
              <td>{{ variant.mappings[0].seq_region_name }}</td>
              <td>{{ variant.mappings[0].start }}</td>
              <td>{{ variant.mappings[0].end }}</td>
              <td>
                <a class="btn btn-primary" href="/variant/{{variant._id}}">View</a>
              </td>
            </tr>
        </tbody>
        {% endfor %}
        {% endif %}
      </table>
</body>
{% endblock %}

{% block scripts %}
  <script>
    $(document).ready(function () {
      $('#data').DataTable();
  </script>
{% endblock %}
